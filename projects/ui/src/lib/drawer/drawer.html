@if (modal) {
    <ng-container>
        <ui-dialog
            [open]="open"
            [placement]="placement"
            [showScrim]="true"
            [disableFocusTrap]="disableFocusTrap"
            (onClose)="emitClose()"
            [widthFull]="placement === 'bottom' || placement === 'top'">
            <div data-bspk="drawer">
                <div data-drawer-header [attr.data-drawer-close-only]="!header ? 'true' : null">
                    @if (header) {
                        <div data-drawer-title>{{ header }}</div>
                    }
                    @if (closeButton) {
                        <ui-button variant="tertiary" (onClick)="emitClose()">
                            <icon-close></icon-close>
                        </ui-button>
                    }
                </div>

                <ng-content></ng-content>
            </div>
        </ui-dialog>
    </ng-container>
} @else {
    <ng-container *ngTemplateOutlet="persistent"></ng-container>
}
<ng-template #persistent>
    @if (open) {
        <section data-bspk="drawer" data-no-portal [attr.data-persistent-placement]="placement" role="complementary">
            <div data-drawer-header [attr.data-drawer-close-only]="!header ? 'true' : null">
                @if (header) {
                    <div data-drawer-title>{{ header }}</div>
                }
                @if (closeButton) {
                    <ui-button variant="tertiary" (onClick)="emitClose()">
                        <icon-close></icon-close>
                    </ui-button>
                }
            </div>

            <ng-content></ng-content>
        </section>
    }
</ng-template>
